<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareerDNA | å…¨æ–¹ä½å€‹äººå“ç‰Œå®šä½ç³»çµ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;900&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* --- æ ¸å¿ƒæ¨£å¼ --- */
        :root { --primary: #2563eb; --text-main: #0f172a; }
        body { font-family: 'Inter', 'Noto Sans TC', sans-serif; background-color: #f8fafc; color: var(--text-main); }
        .glass-panel { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.08); }
        .gradient-text { background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .hero-bg { background-image: radial-gradient(circle at 50% 0%, #eff6ff 0%, transparent 70%), radial-gradient(circle at 100% 100%, #dbeafe 0%, transparent 50%); }
        .fade-in-up { animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; transform: translateY(20px); }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
        
        .likert-opt input:checked + div { background-color: var(--primary); color: white; border-color: var(--primary); transform: scale(1.05); box-shadow: 0 4px 10px rgba(37, 99, 235, 0.2); }
        .circular-chart { display: block; margin: 0 auto; max-width: 100%; max-height: 250px; }
        .circle-bg { fill: none; stroke: #e2e8f0; stroke-width: 2.5; }
        .circle { fill: none; stroke-width: 2.5; stroke-linecap: round; transition: stroke-dasharray 1s ease-out; }
        .hidden { display: none !important; }
        .tab-btn.active { border-bottom: 2px solid var(--primary); color: var(--primary); font-weight: 700; }
        
        @media print {
            .no-print { display: none !important; }
            body { background: white; }
            .glass-panel { box-shadow: none; border: 1px solid #ccc; }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <div id="view-landing" class="flex-grow flex flex-col relative hero-bg">
        <nav class="w-full px-6 py-4 flex justify-between items-center max-w-7xl mx-auto">
            <div class="text-2xl font-black tracking-tighter text-blue-700 flex items-center gap-2">
                <div class="w-3 h-3 bg-blue-600 rounded-full"></div>CareerDNA
            </div>
            <button onclick="app.loadDemo()" class="text-sm text-gray-400 hover:text-blue-600 transition font-medium">Demo Mode</button>
        </nav>
        <main class="flex-grow flex flex-col items-center justify-center text-center px-4 py-12">
            <div class="max-w-4xl mx-auto space-y-8">
                <span class="inline-block py-1 px-3 rounded-full bg-blue-100 text-blue-700 text-xs font-bold tracking-wider mb-2 fade-in-up">PERSONAL BRANDING SYSTEM</span>
                <h1 class="text-5xl md:text-7xl font-black text-slate-900 leading-tight fade-in-up delay-100">æ¢ç´¢ä½ çš„<br><span class="gradient-text">è·æ¶¯åŸºå› åºåˆ—</span></h1>
                <p class="text-lg md:text-xl text-slate-500 max-w-2xl mx-auto fade-in-up delay-200">çµåˆ Holland èˆˆè¶£èˆ‡ Gallup å„ªå‹¢ã€‚<br>ä¸€éµç”Ÿæˆï¼šç§‘ç³»å®šä½ã€å±¥æ­·è‰ç¨¿ã€ç¶“ç‡Ÿç­–ç•¥ã€‚</p>
                <div class="flex flex-col sm:flex-row justify-center gap-4 pt-4 fade-in-up delay-300">
                    <button onclick="app.start()" class="bg-blue-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-blue-700 transition flex items-center justify-center gap-2">
                        é–‹å§‹å…è²»æ¸¬è©• <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <div id="view-quiz" class="hidden min-h-screen bg-white">
        <div class="sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100">
            <div class="max-w-3xl mx-auto px-4 py-3">
                <div class="flex justify-between text-xs font-bold text-slate-400 mb-1"><span>PROGRESS</span><span id="progress-text">0%</span></div>
                <div class="w-full bg-slate-100 rounded-full h-2 overflow-hidden"><div id="progress-bar" class="bg-blue-600 h-2 rounded-full transition-all duration-300 w-0"></div></div>
            </div>
        </div>
        <div class="max-w-3xl mx-auto px-4 py-8 pb-24" id="quiz-container"></div>
        <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-4 shadow-lg">
            <div class="max-w-3xl mx-auto flex justify-between gap-4">
                <button onclick="app.prevPage()" id="btn-prev" class="px-6 py-2 border-2 border-slate-200 text-slate-500 rounded-full font-bold hover:bg-slate-50 transition disabled:opacity-50" disabled>ä¸Šä¸€é </button>
                <button onclick="app.nextPage()" id="btn-next" class="flex-1 bg-blue-600 text-white px-6 py-2 rounded-full font-bold hover:bg-blue-700 transition shadow-md">ä¸‹ä¸€é </button>
            </div>
        </div>
    </div>

    <div id="view-result" class="hidden min-h-screen bg-[#f8fafc] py-8 px-4">
        <div class="max-w-5xl mx-auto mb-6 flex justify-end gap-3 no-print">
            <button onclick="app.downloadPDF()" class="bg-slate-800 text-white px-5 py-2 rounded-lg font-bold shadow hover:bg-slate-700 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg> ä¸‹è¼‰å®Œæ•´å ±å‘Š
            </button>
        </div>

        <div id="report-container" class="max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-6">
            <div class="lg:col-span-12 glass-panel rounded-3xl p-8 text-center relative overflow-hidden fade-in-up">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-400 to-purple-500"></div>
                <h2 class="text-xl font-bold text-slate-800 mb-1">My Brand Canvas å“ç‰Œå®šä½å ±å‘Š</h2>
                <span class="text-xs font-mono text-slate-400" id="report-date"></span>
                <div class="flex flex-col md:flex-row items-center justify-center gap-10 mt-6">
                    <div class="relative w-40 h-40 flex items-center justify-center">
                        <svg viewBox="0 0 36 36" class="circular-chart w-full h-full text-blue-600">
                            <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                            <path class="circle" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                        </svg>
                        <div class="absolute inset-0 flex flex-col items-center justify-center">
                            <span id="score-display" class="text-4xl font-black text-slate-800 tracking-tighter">0</span>
                            <span class="text-[10px] font-bold text-slate-400 mt-1 uppercase tracking-widest">Fit Score</span>
                        </div>
                    </div>
                    <div class="text-left">
                        <div class="mb-4"><div class="text-sm font-bold text-slate-400 uppercase tracking-wide">Best Fit Career</div><div id="best-dept" class="text-3xl md:text-4xl font-black text-blue-700 mt-1">Analyzing...</div></div>
                        <div class="text-sm text-slate-600 bg-blue-50 px-4 py-2 rounded-lg border border-blue-100 inline-block">èˆ‡æ‚¨çš„ç‰¹è³ªå¥‘åˆåº¦é«˜é” <span id="fit-score-text" class="font-bold text-blue-700">0%</span></div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-5 space-y-6 fade-in-up delay-100">
                <div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg text-slate-800 mb-4 flex items-center gap-2"><span class="w-2 h-6 bg-blue-500 rounded-full"></span>å…­ç¶­èƒ½åŠ›é›·é”</h3>
                    <div class="relative w-full aspect-square max-w-[300px] mx-auto"><svg id="radar-chart" viewBox="0 0 300 300" class="w-full h-full drop-shadow-lg"></svg></div>
                </div>
                <div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg text-slate-800 mb-4 flex items-center gap-2"><span class="w-2 h-6 bg-orange-500 rounded-full"></span>Holland èˆˆè¶£å…‰è­œ</h3>
                    <div class="flex items-baseline gap-3 mb-4"><span id="holland-code" class="text-4xl font-black text-slate-800 tracking-widest">---</span></div>
                    <div id="holland-bars" class="space-y-3"></div>
                </div>
                <div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg text-slate-800 mb-4 flex items-center gap-2"><span class="w-2 h-6 bg-pink-500 rounded-full"></span>ç¤¾ç¾¤ç¶“ç‡Ÿç­–ç•¥</h3>
                    <div id="platform-card" class="p-4 bg-pink-50 rounded-xl border border-pink-100"></div>
                </div>
            </div>

            <div class="lg:col-span-7 space-y-6 fade-in-up delay-200">
                <div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg text-slate-800 mb-4 flex items-center gap-2"><span class="w-2 h-6 bg-teal-500 rounded-full"></span>èƒ½åŠ›ç¶­åº¦é‡åŒ–åˆ†æ</h3>
                    <div id="radar-details" class="space-y-4"></div>
                </div>
                <div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg text-slate-800 mb-4 flex items-center gap-2"><span class="w-2 h-6 bg-purple-500 rounded-full"></span>Top 5 å¤©è³¦å„ªå‹¢</h3>
                    <div id="strength-cards" class="grid grid-cols-1 sm:grid-cols-2 gap-3"></div>
                </div>
                <div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100">
                    <h3 class="font-bold text-lg text-slate-800 mb-4 flex items-center gap-2"><span class="w-2 h-6 bg-yellow-500 rounded-full"></span>å“ç‰Œè¡Œå‹•å¡ç‰‡ (Action Card)</h3>
                    <div id="action-card-content" class="bg-yellow-50 p-4 rounded-xl border border-yellow-100 text-sm text-slate-700 space-y-2"></div>
                </div>

                <div class="bg-slate-900 rounded-3xl p-6 shadow-xl text-white relative overflow-hidden no-print">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-blue-500 rounded-full blur-[60px] opacity-20"></div>
                    <div class="relative z-10">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="font-bold text-xl">ğŸš€ å±¥æ­·ç”Ÿæˆå™¨</h3>
                            <div class="flex gap-4 text-sm font-medium">
                                <button onclick="app.switchTab('generate')" id="tab-gen" class="tab-btn active text-blue-400 border-b-2 border-blue-400 pb-1">ç›´æ¥ç”¢å‡ºæ–‡æ¡ˆ</button>
                                <button onclick="app.switchTab('ai')" id="tab-ai" class="tab-btn text-slate-400 pb-1 hover:text-white">AI å”ä½œæŒ‡ä»¤</button>
                            </div>
                        </div>
                        <div id="content-generate" class="space-y-4">
                            <div class="bg-slate-800/50 rounded-xl p-4 border border-slate-700 max-h-60 overflow-y-auto"><pre id="resume-draft" class="whitespace-pre-wrap font-sans text-sm text-slate-300 leading-relaxed"></pre></div>
                            <button onclick="app.copyText('resume-draft')" class="w-full py-3 bg-blue-600 hover:bg-blue-700 rounded-xl font-bold transition">ğŸ“‹ è¤‡è£½å±¥æ­·è‰ç¨¿</button>
                        </div>
                        <div id="content-ai" class="hidden space-y-4">
                            <div class="bg-slate-800/50 rounded-xl p-4 border border-slate-700 max-h-60 overflow-y-auto font-mono text-xs text-green-400"><div id="ai-prompt-text"></div></div>
                            <button onclick="app.copyText('ai-prompt-text')" class="w-full py-3 bg-green-600 hover:bg-green-700 rounded-xl font-bold transition">ğŸ¤– è¤‡è£½ AI æŒ‡ä»¤</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center pt-8 pb-12 no-print"><button onclick="location.reload()" class="text-sm text-slate-400 hover:text-slate-600 underline">é‡æ–°é–‹å§‹æ¸¬é©—</button></div>
    </div>

    <script>
        const DATA = {
            // **æ ¸å¿ƒä¿®æ­£ï¼šæ¬Šé‡å·®ç•°åŒ–**
            weights: {
                'è³‡å·¥ç³» (CS)': { holland: { R: 8, I: 8, A: 1, S: 0, E: 1, C: 5 }, strengths: { Analytical: 8, Focus: 8, Learner: 5, Strategic: 3, Achiever: 3, Ideation: 1, Communication: 0, Relator: 0, Developer: 0, Responsibility: 3 } },
                'è³‡ç®¡ç³» (IM)': { holland: { R: 1, I: 3, A: 1, S: 3, E: 8, C: 8 }, strengths: { Strategic: 8, Achiever: 5, Responsibility: 5, Communication: 5, Analytical: 3, Focus: 1, Learner: 1, Ideation: 1, Relator: 3, Developer: 3 } },
                'è³‡å‚³ç³» (Comm)': { holland: { R: 1, I: 1, A: 8, S: 8, E: 5, C: 1 }, strengths: { Communication: 8, Ideation: 8, Relator: 5, Developer: 5, Strategic: 1, Achiever: 1, Analytical: 0, Focus: 0, Learner: 3, Responsibility: 1 } }
            },
            radarMap: [
                { name: 'é‚è¼¯åˆ†æ', keys: ['Analytical', 'Focus', 'I'] }, { name: 'å°ˆæ¡ˆåŸ·è¡Œ', keys: ['Achiever', 'Responsibility', 'C'] },
                { name: 'ç­–ç•¥æ€ç¶­', keys: ['Strategic', 'E', 'Learner'] }, { name: 'äººéš›æºé€š', keys: ['Communication', 'Relator', 'S'] },
                { name: 'å‰µæ–°å‰µé€ ', keys: ['Ideation', 'A'] }, { name: 'æŠ€è¡“å¯¦ä½œ', keys: ['R'] }
            ],
            radarBenchmarks: {
                'é‚è¼¯åˆ†æ': { low: 'ä»°è³´ç›´è¦ºæ±ºç­–', mid: 'èƒ½é€²è¡ŒåŸºç¤æ•¸æ“šåˆ¤è®€', high: 'å…·å‚™æ‹†è§£è¤‡é›œç³»çµ±èˆ‡æ•¸æ“šæ´å¯Ÿçš„å“è¶Šèƒ½åŠ›' },
                'å°ˆæ¡ˆåŸ·è¡Œ': { low: 'éœ€è¦æ˜ç¢ºæŒ‡ä»¤', mid: 'èƒ½æŒ‰æ™‚å®Œæˆäº¤ä»˜', high: 'å…·å‚™é«˜åº¦ç•¶è²¬æ„Ÿï¼Œèƒ½å„ªåŒ–æµç¨‹ä¸¦ç¢ºä¿é«˜å“è³ªç”¢å‡º' },
                'ç­–ç•¥æ€ç¶­': { low: 'å°ˆæ³¨çœ¼å‰åŸ·è¡Œ', mid: 'èƒ½è¦åŠƒçŸ­æœŸç›®æ¨™', high: 'å…·å‚™å®è§€è¦–é‡ï¼Œèƒ½é åˆ¤é¢¨éšªä¸¦åˆ¶å®šé•·æœŸä½ˆå±€' },
                'äººéš›æºé€š': { low: 'åå¥½ç¨ç«‹ä½œæ¥­', mid: 'èƒ½é€²è¡Œåœ˜éšŠå”ä½œ', high: 'æ“…é•·è·¨éƒ¨é–€æºé€šèˆ‡è¡çªå”èª¿ï¼Œå…·å½±éŸ¿åŠ›' },
                'å‰µæ–°å‰µé€ ': { low: 'åå¥½æ¨™æº–æµç¨‹', mid: 'èƒ½æå‡ºæ”¹è‰¯å»ºè­°', high: 'å…·å‚™çªç ´æ€§æ€ç¶­ï¼Œèƒ½å¾0åˆ°1å»ºæ§‹è§£æ±ºæ–¹æ¡ˆ' },
                'æŠ€è¡“å¯¦ä½œ': { low: 'åå¥½ç†è«–ç ”ç©¶', mid: 'èƒ½æ“ä½œåŸºç¤å·¥å…·', high: 'å…·å‚™å¼·çƒˆå‹•æ‰‹å¯¦ä½œèƒ½åŠ›ï¼Œèƒ½å°‡æ¦‚å¿µè½‰åŒ–ç‚ºå¯¦é«”' }
            },
            strengthsInfo: {
                'Strategic': 'ç­–ç•¥æ€ç¶­', 'Learner': 'å­¸ç¿’æ¸´æœ›', 'Analytical': 'é‚è¼¯åˆ†æ', 'Ideation': 'å‰µæ–°æ€ç¶­', 'Communication': 'æºé€šè¡¨é”',
                'Achiever': 'æˆå°±å°å‘', 'Focus': 'å°ˆæ³¨ç›®æ¨™', 'Responsibility': 'è²¬ä»»ç´€å¾‹', 'Developer': 'ä¼¯æ¨‚ç‰¹è³ª', 'Relator': 'æ·±åº¦äº¤å¾€'
            },
            hollandInfo: {
                'R': {n:'å¯¦åšå‹', c:'#ef4444'}, 'I': {n:'ç ”ç©¶å‹', c:'#3b82f6'}, 'A': {n:'è—è¡“å‹', c:'#e879f9'},
                'S': {n:'ç¤¾äº¤å‹', c:'#f97316'}, 'E': {n:'ä¼æ¥­å‹', c:'#8b5cf6'}, 'C': {n:'å¸¸è¦å‹', c:'#06b6d4'}
            },
            // **æ–°å¢ï¼šå¹³å°æ¨è–¦è³‡æ–™**
            platforms: {
                'R': { name: 'GitHub / æŠ€è¡“éƒ¨è½æ ¼', desc: 'å±•ç¤ºä½ çš„ä»£ç¢¼åº«ã€å°ˆæ¡ˆæ¶æ§‹èˆ‡æŠ€è¡“ç­†è¨˜ï¼Œå¸å¼•æŠ€è¡“ä¸»ç®¡çš„ç›®å…‰ã€‚' },
                'I': { name: 'Medium / ResearchGate', desc: 'ç™¼è¡¨æ·±åº¦åˆ†ææ–‡ç« æˆ–ç ”ç©¶æˆæœï¼Œå»ºç«‹å°ˆæ¥­é ˜åŸŸçš„çŸ¥è­˜æ¬Šå¨æ„Ÿã€‚' },
                'A': { name: 'Instagram / Behance', desc: 'é€éè¦–è¦ºåŒ–ä½œå“é›†å±•ç¾ç¾æ„Ÿèˆ‡å‰µæ„ï¼Œé©åˆç¶“ç‡Ÿå€‹äººé¢¨æ ¼é®®æ˜çš„å“ç‰Œã€‚' },
                'S': { name: 'Facebook ç¤¾åœ˜ / Podcast', desc: 'å»ºç«‹ç¤¾ç¾¤é€£çµï¼Œé€éè²éŸ³æˆ–æ–‡å­—åˆ†äº«è§€é»ï¼Œç¶“ç‡Ÿäººéš›å½±éŸ¿åŠ›ã€‚' },
                'E': { name: 'LinkedIn', desc: 'ç¶“ç‡Ÿå°ˆæ¥­äººè„ˆï¼Œåˆ†äº«ç”¢æ¥­è¦‹è§£èˆ‡å°ˆæ¡ˆæˆæœï¼Œé©åˆå»ºç«‹å•†å‹™èˆ‡é ˜å°å½¢è±¡ã€‚' },
                'C': { name: 'Notion / å€‹äººç¶²ç«™', desc: 'æ•´ç†ç³»çµ±åŒ–çš„çŸ¥è­˜åº«æˆ–å±¥æ­·ï¼Œå±•ç¾æ¢ç†åˆ†æ˜èˆ‡å°ˆæ¥­å¯é çš„å½¢è±¡ã€‚' }
            },
            // **æ–°å¢ï¼šè¡Œå‹•å¡ç‰‡ (æ›¸ç±/æŠ€èƒ½)**
            actionCards: {
                'Strategic': { book: 'ã€Šå¥½ç­–ç•¥å£ç­–ç•¥ã€‹', skill: 'å¿ƒæ™ºåœ–ç¹ªè£½ã€SWOTåˆ†æ' },
                'Learner': { book: 'ã€Šåˆ»æ„ç·´ç¿’ã€‹', skill: 'å¿«é€Ÿé–±è®€ã€çŸ¥è­˜ç®¡ç†ç³»çµ±(Obsidian)' },
                'Analytical': { book: 'ã€Šæ€è€ƒå¿«èˆ‡æ…¢ã€‹', skill: 'Python æ•¸æ“šåˆ†æã€Tableau è¦–è¦ºåŒ–' },
                'Ideation': { book: 'ã€Šå‰µæ„è‡ªä¿¡å¸¶ä¾†åŠ›é‡ã€‹', skill: 'è¨­è¨ˆæ€è€ƒ (Design Thinking)ã€è…¦åŠ›æ¿€ç›ªå¼•å°' },
                'Communication': { book: 'ã€Šè·Ÿ TED å­¸è¡¨é”ã€‹', skill: 'ç°¡å ±è¨­è¨ˆã€æ•…äº‹è¡ŒéŠ· (Storytelling)' },
                'Achiever': { book: 'ã€ŠåŸå­ç¿’æ…£ã€‹', skill: 'å°ˆæ¡ˆç®¡ç† (Agile/Scrum)ã€æ™‚é–“ç®¡ç† (Pomodoro)' },
                'Focus': { book: 'ã€Šæ·±åº¦å·¥ä½œåŠ›ã€‹', skill: 'ç›®æ¨™è¨­å®š (OKR)ã€å¿ƒæµè§¸ç™¼' },
                'Responsibility': { book: 'ã€Šç•¶è²¬ã€‹', skill: 'é¢¨éšªç®¡ç†ã€å“è³ªæ§ç®¡' },
                'Developer': { book: 'ã€Šæ•™ç·´ã€‹', skill: 'å°å¸«å¼•å° (Coaching)ã€æ•™è‚²è¨“ç·´è¨­è¨ˆ' },
                'Relator': { book: 'ã€Šäººæ€§çš„å¼±é»ã€‹', skill: 'åŒç†å¿ƒå‚¾è½ã€è¡çªç®¡ç†' }
            }
        };

        const QUESTIONS = [
            // S: Strengths (15é¡Œ)
            {t:'é¢å°è¤‡é›œä¸”æ¨¡ç³Šçš„å°ˆæ¡ˆéœ€æ±‚æ™‚ï¼Œæˆ‘èƒ½è¿…é€Ÿæ‰¾å‡ºæ½›åœ¨é¢¨éšªèˆ‡å¤šç¨®æ‡‰å°è·¯å¾‘ã€‚(Strategic)', m:'Strategic', cat:'s'},
            {t:'é¢å°æ–°æŠ€è¡“æˆ–é™Œç”Ÿé ˜åŸŸï¼Œæˆ‘æœƒæ„Ÿåˆ°èˆˆå¥®ä¸¦èƒ½å¿«é€ŸæŒæ¡æ ¸å¿ƒæ¦‚å¿µæ‡‰ç”¨æ–¼å·¥ä½œä¸­ã€‚(Learner)', m:'Learner', cat:'s'},
            {t:'åœ¨æœƒè­°ä¸­ï¼Œæˆ‘ç¿’æ…£è¦æ±‚ä»¥æ•¸æ“šã€é‚è¼¯æ¨æ¼”æˆ–å…·é«”è­‰æ“šä¾†ä½è­‰æ±ºç­–ï¼Œè€Œéæ†‘æ„Ÿè¦ºã€‚(Analytical)', m:'Analytical', cat:'s'},
            {t:'æˆ‘å¸¸èƒ½è·³è„«ç¾æœ‰æ¡†æ¶ï¼Œæå‡ºè®“åœ˜éšŠè€³ç›®ä¸€æ–°çš„éå‚³çµ±è§£æ±ºæ–¹æ¡ˆã€‚(Ideation)', m:'Ideation', cat:'s'},
            {t:'æˆ‘æ“…é•·å°‡è¤‡é›œçš„æŠ€è¡“èªè¨€ï¼Œè½‰åŒ–ç‚ºéæŠ€è¡“äººå“¡ä¹Ÿèƒ½è½æ‡‚çš„å•†æ¥­åƒ¹å€¼æˆ–æ•…äº‹ã€‚(Communication)', m:'Communication', cat:'s'},
            {t:'æˆ‘å°‡å®Œæˆä»»å‹™è¦–ç‚ºåŸºæœ¬ï¼Œä¸¦ç¿’æ…£ä¸»å‹•è¨­å®šæ›´é«˜çš„KPIæˆ–å„ªåŒ–æ¨™æº–ä¾†æŒ‘æˆ°è‡ªå·±ã€‚(Achiever)', m:'Achiever', cat:'s'},
            {t:'å³ä½¿åœ¨å¹²æ“¾çœ¾å¤šçš„ç’°å¢ƒä¸‹ï¼Œæˆ‘ä»èƒ½é–å®šé—œéµç›®æ¨™ï¼Œé•·æ™‚é–“ç¶­æŒé«˜æ•ˆç‡ç”¢å‡ºã€‚(Focus)', m:'Focus', cat:'s'},
            {t:'å°æ–¼ç­”æ‡‰çš„äº¤ä»˜æœŸé™(Deadline)ï¼Œæˆ‘è¦–ç‚ºçµ•å°æ‰¿è«¾ï¼Œå¿…è¦æ™‚æœƒè‡ªä¸»æ’é™¤è¬é›£å®Œæˆã€‚(Responsibility)', m:'Responsibility', cat:'s'},
            {t:'æˆ‘èƒ½æ•éŠ³å¯Ÿè¦ºåœ˜éšŠæˆå“¡çš„æ½›åŠ›ï¼Œä¸¦æ¨‚æ–¼æä¾›æŒ‡å°æˆ–è³‡æºå”åŠ©ä»–å€‘çªç ´ç“¶é ¸ã€‚(Developer)', m:'Developer', cat:'s'},
            {t:'æ¯”èµ·è¡¨é¢å¯’æš„ï¼Œæˆ‘æ›´æ“…é•·èˆ‡åˆ©å®³é—œä¿‚äººå»ºç«‹é•·æœŸã€æ·±åº¦ä¸”å…·ä¿¡ä»»æ„Ÿçš„åˆä½œé—œä¿‚ã€‚(Relator)', m:'Relator', cat:'s'},
            {t:'ç•¶ç³»çµ±æˆ–æµç¨‹å‡ºéŒ¯æ™‚ï¼Œæˆ‘æœ¬èƒ½åœ°æœƒå»æ‹†è§£åº•å±¤é‚è¼¯ï¼Œæ‰¾å‡ºæ ¹æœ¬åŸå› (Root Cause)ã€‚(Analytical)', m:'Analytical', cat:'s'},
            {t:'æˆ‘ç¿’æ…£å°‡å¤§ç›®æ¨™æ‹†è§£ç‚ºå¯åŸ·è¡Œçš„æ­¥é©Ÿï¼Œä¸¦é å…ˆè¦åŠƒæ™‚ç¨‹è¡¨èˆ‡è³‡æºé…ç½®ã€‚(Strategic)', m:'Strategic', cat:'s'},
            {t:'æˆ‘å°‡ã€ŒæŒçºŒé€²ä¿®ã€è¦–ç‚ºè·æ¶¯å¿…éœ€å“ï¼Œå¸¸åœ¨ä¸‹ç­å¾Œä¸»å‹•å­¸ç¿’ç”¢æ¥­æ–°çŸ¥ã€‚(Learner)', m:'Learner', cat:'s'},
            {t:'æˆ‘èƒ½å¤ å€åˆ†ä»»å‹™çš„è¼•é‡ç·©æ€¥ï¼Œç¢ºä¿è³‡æºé›†ä¸­åœ¨å°çµ„ç¹”æœ€æœ‰åƒ¹å€¼çš„20%äº‹å‹™ä¸Šã€‚(Focus)', m:'Focus', cat:'s'},
            {t:'æˆ‘é‡è¦–åœ˜éšŠçš„å¿ƒç†å®‰å…¨æ„Ÿï¼Œèƒ½åœ¨é«˜å£“ç’°å¢ƒä¸‹ç¶­ç¹«æˆå“¡é–“çš„å’Œè«§èˆ‡å£«æ°£ã€‚(Relator)', m:'Relator', cat:'s'},
            // Holland (15é¡Œ)
            {t:'æˆ‘å–œæ­¡æ“ä½œç²¾å¯†å„€å™¨ã€ç·¨å¯«åº•å±¤ä»£ç¢¼æˆ–é€²è¡Œç¡¬é«”è¨­å‚™çš„ç¶­è­·èˆ‡çµ„è£ã€‚(R)', m:'R', cat:'h'},
            {t:'æ¯”èµ·æŠ½è±¡çš„ç­–ç•¥è¨è«–ï¼Œæˆ‘æ›´äº«å—çœ‹åˆ°è‡ªå·±è¦ªæ‰‹æ‰“é€ çš„ç”¢å“å¯¦éš›é‹ä½œçš„æˆå°±æ„Ÿã€‚(R)', m:'R', cat:'h'},
            {t:'æˆ‘å–œæ­¡é‘½ç ”æ¼”ç®—æ³•ã€æ•¸å­¸æ¨¡å‹æˆ–åˆ†æè¤‡é›œçš„ç³»çµ±æ¶æ§‹ï¼Œæ‰¾å‡ºæœ€ä½³åŒ–è§£æ³•ã€‚(I)', m:'I', cat:'h'},
            {t:'é‡åˆ°æœªçŸ¥å•é¡Œæ™‚ï¼Œæˆ‘ç¿’æ…£å…ˆé€²è¡Œå»£æ³›çš„è³‡æ–™è’é›†èˆ‡æ–‡ç»ç ”ç©¶ï¼Œå†æ­¸ç´å‡ºçµè«–ã€‚(I)', m:'I', cat:'h'},
            {t:'æˆ‘å°ä½¿ç”¨è€…ä»‹é¢(UI)ã€è¦–è¦ºæ’ç‰ˆæˆ–ç”¢å“ç¾å­¸æœ‰é«˜æ¨™æº–ï¼Œç„¡æ³•å¿å—ç¼ºä¹è¨­è¨ˆæ„Ÿçš„ç”¢å‡ºã€‚(A)', m:'A', cat:'h'},
            {t:'æˆ‘ä¸å–œæ­¡è¢«æ—¢å®šçš„SOPç¶æ­»ï¼Œéœ€è¦èƒ½è‡ªç”±ç™¼æ®å‰µæ„èˆ‡å€‹äººé¢¨æ ¼çš„å·¥ä½œç’°å¢ƒã€‚(A)', m:'A', cat:'h'},
            {t:'æˆ‘æ¨‚æ–¼è™•ç†ã€Œäººã€çš„å•é¡Œï¼ŒåŒ…æ‹¬è¼”å°ä»–äººã€è§£æ±ºå®¢æˆ¶æŠ±æ€¨æˆ–é€²è¡Œæ•™è‚²è¨“ç·´ã€‚(S)', m:'S', cat:'h'},
            {t:'åœ¨è·¨éƒ¨é–€å°ˆæ¡ˆä¸­ï¼Œæˆ‘å¸¸æ“”ä»»å”èª¿è€…è§’è‰²ï¼Œç¢ºä¿å„æ–¹æ„è¦‹èƒ½é”æˆå…±è­˜ã€‚(S)', m:'S', cat:'h'},
            {t:'æˆ‘å–œæ­¡æ“”ä»»å°ˆæ¡ˆè² è²¬äºº(PM)ï¼Œå¸¶é ˜åœ˜éšŠè¡åˆºæ¥­ç¸¾æˆ–é”æˆå°ˆæ¡ˆç›®æ¨™ï¼Œä¸¦å°çµæœè² è²¬ã€‚(E)', m:'E', cat:'h'},
            {t:'æˆ‘å…·å‚™èªªæœåŠ›ï¼Œæ¨‚æ–¼å‘å®¢æˆ¶ææ¡ˆæˆ–åœ¨æœƒè­°ä¸­æ¨éŠ·æˆ‘çš„æƒ³æ³•èˆ‡ç”¢å“åƒ¹å€¼ã€‚(E)', m:'E', cat:'h'},
            {t:'æˆ‘æ“…é•·å»ºç«‹æª”æ¡ˆç®¡ç†ç³»çµ±ï¼Œç¢ºä¿è³‡æ–™åˆ†é¡é‚è¼¯æ¸…æ™°ï¼Œæ–¹ä¾¿å¾ŒçºŒæª¢ç´¢ã€‚(C)', m:'C', cat:'h'},
            {t:'æˆ‘é‡è¦–ç´°ç¯€èˆ‡ç²¾ç¢ºåº¦ï¼Œåœ¨åŸ·è¡Œä»»å‹™æ™‚æœƒåš´æ ¼éµå®ˆè¦ç¯„èˆ‡å“è³ªæ¨™æº–ã€‚(C)', m:'C', cat:'h'},
            {t:'æˆ‘æœƒä¸»å‹•åƒåŠ æŠ€è¡“ç ”è¨æœƒæˆ–é–±è®€è«–æ–‡ï¼Œä»¥ä¿æŒåœ¨å°ˆæ¥­é ˜åŸŸçš„é ˜å…ˆåœ°ä½ã€‚(I)', m:'I', cat:'h'},
            {t:'æˆ‘äº«å—åœ¨å…¬é–‹å ´åˆæ¼”è¬›æˆ–é€²è¡Œç°¡å ±ï¼Œå±•ç¾å€‹äººæˆ–åœ˜éšŠçš„æˆæœã€‚(E)', m:'E', cat:'h'},
            {t:'æˆ‘ç„¡æ³•å¿å—æµç¨‹æ··äº‚æˆ–æ•ˆç‡ä½ä¸‹çš„å·¥ä½œæ–¹å¼ï¼Œæœƒä¸»å‹•å°‹æ±‚å„ªåŒ–èˆ‡æ¨™æº–åŒ–ã€‚(C)', m:'C', cat:'h'}
        ];

        const app = {
            state: { answers: {}, currentPage: 0, pageSize: 5 },
            start() { this.state = { answers: {}, currentPage: 0, pageSize: 5 }; this.switchView('view-quiz'); this.renderQuiz(); window.scrollTo(0,0); },
            loadDemo() { QUESTIONS.forEach((q, i) => this.state.answers[i] = Math.floor(Math.random() * 3) + 3); this.calculateResults(); },
            switchView(id) { ['view-landing', 'view-quiz', 'view-result'].forEach(v => document.getElementById(v).classList.add('hidden')); document.getElementById(id).classList.remove('hidden'); },
            
            renderQuiz() {
                const { currentPage, pageSize } = this.state;
                const start = currentPage * pageSize;
                const end = start + pageSize;
                const pageQs = QUESTIONS.slice(start, end);
                const answeredCount = Object.keys(this.state.answers).length;
                const progress = Math.min(100, Math.round((answeredCount / QUESTIONS.length) * 100));
                document.getElementById('progress-bar').style.width = `${progress}%`;
                document.getElementById('progress-text').innerText = `${progress}%`;
                let html = '';
                pageQs.forEach((q, i) => {
                    const idx = start + i;
                    const val = this.state.answers[idx] || 0;
                    html += `<div class="mb-8 p-6 bg-white rounded-2xl border border-slate-100 shadow-sm fade-in-up" style="animation-delay:${i*0.1}s">
                        <h3 class="font-bold text-lg text-slate-800 mb-4">${idx+1}. ${q.t}</h3>
                        <div class="flex justify-between gap-2">${[1,2,3,4,5].map(v => `<label class="likert-opt flex-1 cursor-pointer group"><input type="radio" name="q${idx}" value="${v}" ${val==v?'checked':''} class="hidden" onchange="app.answer(${idx}, ${v})"><div class="h-12 rounded-lg bg-slate-50 border border-slate-200 flex items-center justify-center text-slate-400 font-bold transition-all group-hover:border-blue-300">${v}</div></label>`).join('')}</div>
                        <div class="flex justify-between text-xs text-slate-400 mt-2 px-1"><span>ä¸ç¬¦åˆ (1)</span><span>éå¸¸ç¬¦åˆ (5)</span></div></div>`;
                });
                document.getElementById('quiz-container').innerHTML = html;
                document.getElementById('btn-prev').disabled = currentPage === 0;
                document.getElementById('btn-next').innerText = (end >= QUESTIONS.length) ? 'æŸ¥çœ‹å ±å‘Š' : 'ä¸‹ä¸€é ';
            },

            answer(idx, val) { this.state.answers[idx] = val; this.renderQuiz(); }, // Trigger re-render to update progress
            prevPage() { if(this.state.currentPage > 0) { this.state.currentPage--; this.renderQuiz(); window.scrollTo(0,0); } },
            nextPage() {
                const { currentPage, pageSize } = this.state;
                const start = currentPage * pageSize;
                const end = Math.min(start + pageSize, QUESTIONS.length);
                for(let i=start; i<end; i++) { if(!this.state.answers[i]) { alert(`è«‹å®Œæˆç¬¬ ${i+1} é¡Œ`); return; } }
                if(end >= QUESTIONS.length) this.calculateResults(); else { this.state.currentPage++; this.renderQuiz(); window.scrollTo(0,0); }
            },

            calculateResults() {
                this.switchView('view-result');
                window.scrollTo(0,0);
                document.getElementById('report-date').innerText = new Date().toLocaleDateString('zh-TW');

                let sScores = {}, hScores = {};
                QUESTIONS.forEach((q, i) => {
                    const val = this.state.answers[i] || 3;
                    if(q.cat === 's') sScores[q.m] = (sScores[q.m] || 0) + val; else hScores[q.m] = (hScores[q.m] || 0) + val;
                });

                let bestDept = '', maxFit = 0;
                for(let d in DATA.weights) {
                    let wSum = 0, maxWSum = 0;
                    for(let k in DATA.weights[d].holland) {
                        const w = DATA.weights[d].holland[k];
                        if(w>0) { wSum += (hScores[k]||0)*w; maxWSum += (QUESTIONS.filter(q=>q.cat==='h'&&q.m===k).length*5)*w; }
                    }
                    for(let k in DATA.weights[d].strengths) {
                        const w = DATA.weights[d].strengths[k];
                        if(w>0) { wSum += (sScores[k]||0)*w; maxWSum += (QUESTIONS.filter(q=>q.cat==='s'&&q.m===k).length*5)*w; }
                    }
                    let fit = (maxWSum > 0) ? Math.round((wSum / maxWSum) * 100) : 0;
                    if(fit > maxFit) { maxFit = fit; bestDept = d; }
                }

                let radarData = DATA.radarMap.map(dim => {
                    let sum = 0, count = 0;
                    dim.keys.forEach(k => { sum += (k.length > 1 ? (sScores[k]||0) : (hScores[k]||0)); count += QUESTIONS.filter(q => q.m === k).length; });
                    return (count > 0) ? Math.round((sum / (count*5)) * 100) : 0;
                });

                document.getElementById('best-dept').innerText = bestDept;
                document.getElementById('fit-score-text').innerText = maxFit + '%';
                const circle = document.querySelector('.circle');
                circle.style.stroke = maxFit >= 80 ? '#2563eb' : (maxFit >= 60 ? '#f59e0b' : '#64748b');
                setTimeout(() => {
                    circle.style.strokeDasharray = `${maxFit}, 100`;
                    let start = 0;
                    const timer = setInterval(() => { start++; document.getElementById('score-display').innerText = start; if(start >= maxFit) { clearInterval(timer); document.getElementById('score-display').innerText = maxFit; } }, 10);
                }, 100);

                this.drawRadar(radarData);

                // Render Holland
                const maxHScores = QUESTIONS.filter(q => q.cat === 'h').reduce((acc, curr) => { const k = curr.m; acc[k] = (acc[k] || 0) + 5; return acc; }, {});
                const topH = Object.entries(hScores).sort((a,b)=>b[1]-a[1]);
                const hCode = topH.slice(0,3).map(x=>x[0]).join('');
                document.getElementById('holland-code').innerText = hCode;
                document.getElementById('holland-bars').innerHTML = topH.map(h => {
                    const info = DATA.hollandInfo[h[0]], max = maxHScores[h[0]] || 10, pct = (h[1]/max)*100;
                    return `<div class="flex items-center text-sm"><span class="w-8 font-bold" style="color:${info.c}">${h[0]}</span><div class="flex-1 h-2 bg-slate-100 rounded-full mx-2 overflow-hidden"><div class="h-full rounded-full" style="width:${pct}%; background:${info.c}"></div></div><span class="w-6 text-right text-slate-400">${h[1]}</span></div>`;
                }).join('');

                // Render Strengths
                const topS = Object.entries(sScores).sort((a,b)=>b[1]-a[1]).slice(0,5);
                document.getElementById('strength-cards').innerHTML = topS.map((s,i) => `<div class="p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-center justify-between"><span class="font-bold text-slate-700">#${i+1} ${DATA.strengthsInfo[s[0]]}</span><span class="text-xs bg-white px-2 py-1 rounded text-slate-400 font-mono">${s[0]}</span></div>`).join('');

                // Render Radar Details
                let radarDetailsHTML = '';
                radarData.forEach((score, i) => {
                    const dim = DATA.radarMap[i];
                    let meaning = score < 50 ? DATA.radarBenchmarks[dim.name].low : (score < 75 ? DATA.radarBenchmarks[dim.name].mid : DATA.radarBenchmarks[dim.name].high);
                    let color = score >= 75 ? 'text-green-600' : (score >= 50 ? 'text-blue-600' : 'text-slate-500');
                    radarDetailsHTML += `<div class="flex items-start justify-between border-b border-slate-50 pb-2 last:border-0"><div class="w-1/3"><span class="block font-bold text-slate-700 text-sm">${dim.name}</span><span class="text-2xl font-black ${color}">${score}</span><span class="text-xs text-slate-400">/100</span></div><div class="w-2/3 pl-4 border-l border-slate-100"><p class="text-xs text-slate-500 leading-relaxed">${meaning}</p></div></div>`;
                });
                document.getElementById('radar-details').innerHTML = radarDetailsHTML;

                // **æ–°å¢ï¼šå¹³å°æ¨è–¦**
                const topHCode = hCode[0];
                const platformInfo = DATA.platforms[topHCode];
                document.getElementById('platform-card').innerHTML = `<h4 class="font-bold text-pink-800 mb-1">${platformInfo.name}</h4><p class="text-xs text-pink-600">${platformInfo.desc}</p>`;

                // **æ–°å¢ï¼šè¡Œå‹•å¡ç‰‡**
                const topStrengthKey = topS[0][0];
                const actionInfo = DATA.actionCards[topStrengthKey];
                document.getElementById('action-card-content').innerHTML = `<p><strong>ğŸ“š æ¨è–¦æ›¸ç±ï¼š</strong>${actionInfo.book}</p><p><strong>ğŸ› ï¸ å¿…ä¿®æŠ€èƒ½ï¼š</strong>${actionInfo.skill}</p>`;

                this.generateTexts(bestDept, hCode, topS, radarData);
            },

            drawRadar(data) {
                const svg = document.getElementById('radar-chart');
                const center = 150, radius = 100, angles = [0, 60, 120, 180, 240, 300].map(a => (a-90) * Math.PI / 180);
                let gridHTML = '';
                [0.2, 0.4, 0.6, 0.8, 1].forEach(scale => { const points = angles.map(a => `${center + radius * scale * Math.cos(a)},${center + radius * scale * Math.sin(a)}`).join(' '); gridHTML += `<polygon points="${points}" fill="none" stroke="#e2e8f0" stroke-width="1"/>`; });
                angles.forEach((a, i) => {
                    const x = center + radius * 1.25 * Math.cos(a), y = center + radius * 1.25 * Math.sin(a);
                    gridHTML += `<line x1="${center}" y1="${center}" x2="${center + radius * Math.cos(a)}" y2="${center + radius * Math.sin(a)}" stroke="#e2e8f0" /><text x="${x}" y="${y}" fill="#64748b" font-size="12" text-anchor="${Math.cos(a)>0.1?'start':(Math.cos(a)<-0.1?'end':'middle')}" dominant-baseline="middle">${DATA.radarMap[i].name}</text>`;
                });
                const dataPoints = angles.map((a, i) => `${center + radius * (data[i]/100) * Math.cos(a)},${center + radius * (data[i]/100) * Math.sin(a)}`).join(' ');
                svg.innerHTML = gridHTML + `<polygon points="${dataPoints}" fill="rgba(37, 99, 235, 0.2)" stroke="#2563eb" stroke-width="3" />` + angles.map((a, i) => `<circle cx="${center + radius * (data[i]/100) * Math.cos(a)}" cy="${center + radius * (data[i]/100) * Math.sin(a)}" r="4" fill="#2563eb"/>`).join('');
            },

            generateTexts(dept, hCode, topS, radar) {
                const sNames = topS.map(s => DATA.strengthsInfo[s[0]]).join('ã€');
                const topRadar = DATA.radarMap[radar.indexOf(Math.max(...radar))].name;
                const draft = `ã€è‡ªæˆ‘ä»‹ç´¹è‰ç¨¿ã€‘\n\næˆ‘æ˜¯ã€‡ã€‡ã€‡ï¼Œä¸€ä½ç†±æ„›${dept}é ˜åŸŸçš„æ¢ç´¢è€…ã€‚ç¶“ç”±å°ˆæ¥­æ¸¬è©•åˆ†æï¼Œæˆ‘çš„æ ¸å¿ƒå„ªå‹¢åœ¨æ–¼ã€Œ${sNames}ã€ï¼Œé€™è®“æˆ‘åœ¨é¢å°${dept}çš„æŒ‘æˆ°æ™‚ï¼Œèƒ½å¤ ç™¼æ®${DATA.strengthsInfo[topS[0][0]]}ç‰¹è³ªï¼Œ${dept.includes('è³‡å·¥')?'æœ‰æ•ˆè§£æ±ºæŠ€è¡“é›£é¡Œ':'æœ‰æ•ˆæ•´åˆè³‡æºèˆ‡æºé€š'}ã€‚\n\næˆ‘çš„ Holland è·æ¥­èˆˆè¶£ä»£ç¢¼ç‚º ${hCode}ï¼Œé€™ä»£è¡¨æˆ‘å…·å‚™${DATA.hollandInfo[hCode[0]].n}çš„å‚¾å‘ã€‚åœ¨å°ˆæ¥­èƒ½åŠ›ä¸Šï¼Œæˆ‘çš„ã€Œ${topRadar}ã€å°¤ç‚ºçªå‡ºï¼Œé€™å°‡æœ‰åŠ©æ–¼æˆ‘åœ¨åœ˜éšŠä¸­æ“”ä»»é—œéµè§’è‰²ã€‚\n\næœªä¾†ï¼Œæˆ‘å¸Œæœ›èƒ½å°‡é€™äº›ç‰¹è³ªè½‰åŒ–ç‚ºå…·é«”çš„å°ˆæ¡ˆæˆæœï¼Œç‚ºåœ˜éšŠå‰µé€ åƒ¹å€¼ã€‚`;
                document.getElementById('resume-draft').innerText = draft;
                const prompt = `ä½ æ˜¯ä¸€ä½å°ˆæ¥­è·æ¶¯é¡§å•ã€‚è«‹æ ¹æ“šä»¥ä¸‹æ•¸æ“šç‚ºæˆ‘å„ªåŒ–å±¥æ­·ï¼š\n1. ç›®æ¨™ï¼š${dept}\n2. ç‰¹è³ªï¼š${hCode} (${sNames})\n3. å„ªå‹¢ï¼š${topRadar}èƒ½åŠ›æ¥µå¼·\nè«‹å¹«æˆ‘å¯«ä¸€æ®µç´„ 200 å­—ã€èªæ°£è‡ªä¿¡çš„ç”³è«‹å‹•æ©Ÿï¼Œä¸¦æä¾› 3 å€‹é‡åŒ–æˆæœç¯„ä¾‹ã€‚`;
                document.getElementById('ai-prompt-text').innerText = prompt;
            },

            downloadPDF() {
                const element = document.getElementById('report-container');
                const opt = { margin: 10, filename: 'CareerDNA_Report.pdf', image: { type: 'jpeg', quality: 0.98 }, html2canvas: { scale: 2 }, jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' } };
                html2pdf().set(opt).from(element).save();
            },

            switchTab(mode) {
                document.getElementById('content-generate').classList.toggle('hidden', mode !== 'generate');
                document.getElementById('content-ai').classList.toggle('hidden', mode !== 'ai');
                document.getElementById('tab-gen').classList.toggle('active', mode === 'generate');
                document.getElementById('tab-gen').classList.toggle('text-blue-400', mode === 'generate');
                document.getElementById('tab-gen').classList.toggle('text-slate-400', mode !== 'generate');
                document.getElementById('tab-ai').classList.toggle('active', mode === 'ai');
                document.getElementById('tab-ai').classList.toggle('text-blue-400', mode === 'ai');
                document.getElementById('tab-ai').classList.toggle('text-slate-400', mode !== 'ai');
            },

            copyText(id) {
                const text = document.getElementById(id).innerText;
                navigator.clipboard.writeText(text).then(() => alert('å·²è¤‡è£½å…§å®¹ï¼'));
            }
        };
    </script>
</body>
</html>